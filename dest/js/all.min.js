var app=angular.module("jsonViewer",[]),MainController=function(o,e){o.jsonData=function(t){e.get(t,{cache:!0}).success(function(e){console.log(e),o.nowTemp=Math.round(e.main.temp)+" Â° F",o.windSpeed=e.wind.speed,o.windDeg=e.wind.deg,o.code=e.weather[0].icon,o.description=e.weather[0].description,o.image="http://openweathermap.org/img/w/"+o.code+".png",o.progBar=100})},o.setCoordData=function(t){e.get(t).success(function(e){console.log(e),o.lat=e.latitude,o.lon=e.longitude,o.city=e.city,o.timezone=e.timezone,o.zipCode=e.postal_code,o.regionName=e.region_code,o.isp=e.isp,o.region=e.region,o.country=e.country,o.countryCode=e.country_code,o.currentWeather="http://api.openweathermap.org/data/2.5/weather?lat="+o.lat+"&lon="+o.lon+"&mode=json&units=imperial",console.log(o.currentWeather),o.sevenDay="http://api.openweathermap.org/data/2.5/forecast/daily?lat="+o.lat+"&lon="+o.lon+"&mode=json&units=imperial&cnt=7",o.jsonData(o.currentWeather),o.progBar=75,o.progBarType="progress-bar progress-bar-success"})},o.getLocationData=function(t){e.get(t).success(function(e){console.log(e),o.ip=e.ip,o.getCoord="http://www.telize.com/geoip/"+o.ip,o.progBar=25,o.progBarType="progress-bar progress-bar-info",o.setCoordData(o.getCoord)})},o.getLocationData("https://api.ipify.org/?format=json")};app.controller("MainController",["$scope","$http",MainController]);